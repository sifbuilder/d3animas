<!DOCTYPE html>
<meta charset="utf-8">
<title>animas</title>
<head >

  <style>
    body { margin:0;position:fixed;top:0;right:0;bottom:0;left:0; }
    div#fps,svg { position: fixed; top:0; left:0; color: white; }
  </style>

</head>
<body style="cursor:crosshair"></body>
<div id="viewframe" class="viewframe"></div>

<script src="elem-enls.js"></script>
<script src="elem-ents.js"></script>

<script>

let muonAlima = function muonAlima (__mapper) {
  __mapper({'xs': xs.xs(__mapper)}) // PROXIES
  __mapper('xs').m('init')({svg: 1, versor: 1, webgl: 1, bck: 0}) // INIT

  let f = __mapper('xs').m('props'),
    msnap = __mapper('xs').m('snap'),
    mlacer = __mapper('xs').m('lacer'),
    mnat = __mapper('xs').m('nat'),
    cwen = __mapper('xs').c('wen')()

  // ............................. pics
  let tim = {'td': 3800, 't0': 0, 't1': 1000, 't2': 1, 't3': 1}
  let boform = { csx: 0, cf: 777, cs: 222, cw: 1.7, co: 0.7, cp: 0.5}
  let geofold = {type: 'Feature', geometry: { type: 'Point', coordinates: [0, 0]}, properties: {pointRadius: 6}}

  let translate = {
    'm1': 4, 'm2': 4, 'n1': 2, 'n2': 2, 'n3': 2, 'a': 1, 'b': 1, // circle
    'ra2': 60, 'v0': 0, 'v1': 1, 'w4': 90, 'seg5': 360 / 10, 'pa6': 0, 'pb7': -1, }

  let f3 = {
    'm1': 6,'m2': 6,'n1': 2,'n2': 7,'n3': 7,'a': 1,'b': 1,	// star
    'ra2': 60,'v0': 0,'v1': 1,'seg5': 360 / 10,'w4': 0,'pa6': 0,'pb7': 360
  }


  // ............................. p3 anima
   let p3 = {
    halo: 'ent',
    geofold: p => mnat.natFeature(f3),
    payload: {tim, boform,
      ric: {gid: 'p', cid: 'p', fid: 'p3'},
      proform: {
          projection: 'uniwen', 
          prerotate:  cwen.rotation(), 
          scale: 1, 
          rotate: [ 0, 0, 0 ], 
          translate: [0, 0, 0] }
      }
  }

  // ............................. animas
  let animas = [
  
    p3, // h.ent g.uniwen

  ]

  return () => __mapper('xs').m('store').apply({'type': 'UPDANIMA', 'caller': 'alima', 'animas': animas})
}

let __mapper = xMapper.xMapper()
__mapper({'muonAlima': muonAlima(__mapper)}).muonAlima(__mapper)
</script>
<body style="cursor:crosshair"></body>
