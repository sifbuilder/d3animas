<!DOCTYPE html>
<meta charset="utf-8">
<title>animas</title>
<head >

  <style>
    body { margin:0;position:fixed;top:0;right:0;bottom:0;left:0; }
    div#fps,svg { position: fixed; top:0; left:0; color: white; }
  </style>

</head>
<body style="cursor:crosshair"></body>
<div id="viewframe" class="viewframe"></div>

<script src="enls.js"></script>
<script src="ents.js"></script>

<script>

let muonAlima = function muonAlima(__mapper) {

  __mapper({"xs": xs.xs(__mapper)})               // PROXIES
  __mapper("xs").b("init")({svg:1,versor:0,wen:1,webgl:1})  // INIT

  /**********************
   *    @const
   */

  const rotInit = [0,45,0]

  /*******************************************
 *    @pics
 */
  let tim = {"td":9200,"t0":0,"t1":1000,"t2":1,"t3":1,}

 /*******************************************
 *      @animas
 */
  let aniPolygone = {

    "halo": "geojson",

    "geoform": anitem => {
      let payload = anitem.payload,
					ric = payload.ric,
					boform = payload.boform

      let coordinaes = [
        [-1, -1,  1],
        [ 1, -1,  1],
        [ 1, 1,   1],
        [ -1, 1,  1],
        [-1, -1,  1]
      ]

      let geometry = {type:"Polygon", coordinates:[]}
			geometry.coordinates = Array.of(coordinaes)

      let feature = {type:"Feature",geometry:{},properties:{}}
			
      feature.geometry = geometry
			
      feature.properties.sort = "feature"
      feature.properties.ric = ric
      feature.properties.boform = boform

      return feature
			
    },

    payload: {
      "tim": tim,
      "ric": {"gid":"pol","cid":"pol","fid":"pol",},
      "boform": {"csx":0,"cf":[[[222,333,222,333,222,333,222]]],"cs":777,"cw":0.6,"co":0.999,"cp":0.999,},
      "proform": {
        "projection": "uniwen",
        "translate":  [ 180, 200 ],
        "scale": 90,
        "rotate": [0,0,0],
        "focale": 4,
        "zafin": [0,1],
        "dims": 3,
        "control": "wen"
      },
    }

  }
	
  /*******************************************
 *      @animas
 *
 */
  let animas = [
	
    aniPolygone,  // h.geojson g.uniwen

  ]
  let animaApi = function animaApi() {
    __mapper("xs").m("store").apply({"type":"UPDANIMA","caller":"alima","animas":animas})
  }

  return animaApi

}

let __mapper = bosonMapper.bosonMapper()
__mapper({"muonAlima": muonAlima(__mapper)}).muonAlima(__mapper)
</script>
<body style="cursor:crosshair"></body>
