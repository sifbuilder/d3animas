<!DOCTYPE html>
<meta charset="utf-8">
<title>animas</title>
<head >

  <style>
    body { margin:0;position:fixed;top:0;right:0;bottom:0;left:0; }
    div#fps,svg { position: fixed; top:0; left:0; color: white; }
  </style>

</head>
<body style="cursor:crosshair"></body>
<div id="viewframe" class="viewframe"></div>

<script src='https://d3js.org/d3.v4.min.js'></script>
<script src='https://d3js.org/d3-geo.v1.min.js'></script>
<script src='https://d3js.org/d3-geo-projection.v2.min.js'></script>
<script src='https:////unpkg.com/d3-force-3d@1.0.7/build/d3-force-3d.bundle.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/topojson/3.0.0/topojson.min.js'></script>
<script src='https:////cdnjs.cloudflare.com/ajax/libs/three.js/84/three.min.js'></script>
<script src='https:////unpkg.com/three-trackballcontrols-web@0.0.2/dist/three-trackballcontrols.min.js'></script>
<script src="enls.js"></script>
<script src="ents.js"></script>

<script>

let muonAlima = function muonAlima(__mapper) {

  __mapper({"xs": xs.xs(__mapper)})               // PROXIES
  __mapper("xs").b("init")({svg:1,versor:1,wen:0,webgl:1})  // INIT

  let f = __mapper({"props": muonProps.muonProps()}).props()
  let g = __mapper("xs").m("geom")
  let w = __mapper("xs").m("wen")

  /**********************
   *    @
   */
  let r = __mapper("xs").r("renderer"),
    width = r.width(),
    height = r.height()

  let rotInit = [0,45,0],
    rotation = [0,0,0],
    rotMatrix

  let versor = __mapper("xs").b("versor")()
  let wen = __mapper("xs").c("wen")({rotInit})

  /*******************************************
 *      @pics
 *
 */
let tim = {"td":32200,"t0":0,"t1":1000,"t2":1,"t3":1,}

let proform = {

        "projection": "unimercator",
        "scale": 102,
        "translate": [ 300, 200 ],
        "rotate": [ [[[0,-60]]], [[[0,-60]]], [[[0,-60]]] ],

    }
/*******************************************
 *    @animas
 *
 */
// -------------------------------  geoearth
let geoearth = {

        "tim": tim,
        "ric": {"gid":"geoearth","cid":"geoearth","fid":"geoearth",},
        "halo":"geojson",

        "boform": { "csx":0,"cf":[[[111,111]]],"cs":666,"cw":0.9,"co":[[[0.05,0.05]]],"cp":[[[0.9,0.9]]],},

        "proform": proform,

        "geoform": () => {
          let geo = Object.assign({},
            topojson.feature(
              __mapper("xs").d("worldTopo110m").data(),
              __mapper("xs").d("worldTopo110m").data().objects.land
            )
          )
          geo = __mapper("xs").m("geoj").trim(geo)
          return geo
        },

    }


/*******************************************
 *    @animaApi
 *
 */
  let animas = [
  
    geoearth,       // h.geojson g.unimercator
    
  ]
  let animaApi = function animaApi() {

    __mapper("xs").m("store").apply({"type":"UPDANIMA","caller":"alima","animas":animas})

  }

  return animaApi

}

let __mapper = bosonMapper.bosonMapper()
__mapper({"muonAlima": muonAlima(__mapper)}).muonAlima(__mapper)
</script>
<body style="cursor:crosshair"></body>
