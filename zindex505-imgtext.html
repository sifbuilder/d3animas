<!DOCTYPE html>
<meta charset="utf-8">
<title>animas</title>
<head >

  <style>
    body { margin:0;position:fixed;top:0;right:0;bottom:0;left:0; }
    div#fps,svg { position: fixed; top:0; left:0; color: white; }
  </style>

</head>
<body style="cursor:crosshair"></body>
<div id="viewframe" class="viewframe"></div>

<script src='https://d3js.org/d3.v4.min.js'></script>
<script src='https://d3js.org/d3-geo.v1.min.js'></script>
<script src='https://d3js.org/d3-geo-projection.v2.min.js'></script>
<script src='https:////unpkg.com/d3-force-3d@1.0.7/build/d3-force-3d.bundle.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/topojson/3.0.0/topojson.min.js'></script>
<script src='https:////cdnjs.cloudflare.com/ajax/libs/three.js/84/three.min.js'></script>
<script src='https:////unpkg.com/three-trackballcontrols-web@0.0.2/dist/three-trackballcontrols.min.js'></script>
<script src="enls.js"></script>
<script src="ents.js"></script>

<script>

let muonAlima = function muonAlima(__mapper) {

  __mapper({"xs": xs.xs(__mapper)})                         // PROXIES
  __mapper("xs").b("init")({svg:1,wen:1,versor:1,img:0,webgl:1})  // INIT

  let f = __mapper({"props": muonProps.muonProps()}).props()
  let g = __mapper("xs").m("geom")

  /*******************************************
 *    @port
 *
 */
  let r = __mapper("xs").r("renderer"),
    width = r.width(),
    height = r.height()

  /*******************************************
 *    @pics
 */
  let tim = {"td":18200,"t0":0,"t1":1000,"t2":1,"t3":1,}

  /*******************************************
 *      @animas
 *
 */
 
  // -------------------------------  img
  let img = {

    "halo": "img",

    "geoform": p => ({
      type:  "Feature",
      geometry: {

        "type": "Point",
        "coordinates": [ 40, 40 ]

      },
      properties: {
				sort: "img",
        ["xlink:href"]: p.payload.img.url,
        style: p.payload.img.style
      }
    }),

		
    "payload": {

			"tim": tim,
			"ric": {"gid":"imgg","cid":"imgc","fid":"imgf",},
			"boform": { "csx":0,"cf":[[[22,22]]],"cs":22,"cw":[[[0.7,0.7]]],"co":[[[0.7,0.7,]]],"cp":[[[0.5,0.5]]],},

			
			"proform": {
				"projection": "uniwen",
				"translate": [ [[[30,200]]], 40 ],
			},
			
			"img": {
        "url":"zimg-501.jpg",
        "style": {
					"width": [[[60, 120]]],
					"height": [[[40 , 80]]],
					"rotate": [[[ 0, 12 ]]],
        }				
				
      },


    }
  }
  // -------------------------------  text
  let text = {

    "halo":"text",

    "geoform": p => ({
      type:  "Feature",
      geometry: {

        "type": "Point",
        "coordinates": [290, 180]

      },
      properties: {
				sort: "text",
        text: p.payload.text.text,
        style: p.payload.text.style
      }
    }),


    "payload": {
		
			"tim": tim,
			"ric": {"gid":"text","cid":"text","fid":"text",},
			"boform": { "csx":0,"cf":[[[888,777]]],"cs":111,"cw":[[[0.1,0.7]]],"co":[[[0.1,0.7,]]],"cp":[[[0.5,0.5]]],},
			"proform": {
				"projection": "uniwen",
				"translate": [ 30, 40 ],
			},
      "text": {
        "text":"e",
        "style": {
					["rotate"]: [[[0, 1 ]]],
          ["font-size"]: [[[1, 24]]],
          ["font-family"]: "BankFuturistic",
          ["text-anchor"]: "center",

        }
      },

    }
  } 
  /*******************************************
 * @animaApi
 *
 */
  let animas = [

    img,          // h.img
    text,         // h.text
  ]

  let animaApi = function animaApi() {

    __mapper("xs").m("store").apply({"type":"UPDANIMA","caller":"alima","animas":animas})

  }

  return animaApi

}

let __mapper = bosonMapper.bosonMapper()
__mapper({"muonAlima": muonAlima(__mapper)}).muonAlima(__mapper)
</script>
<body style="cursor:crosshair"></body>
